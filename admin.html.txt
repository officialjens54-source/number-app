<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body{background:#111;color:white;font-family:Arial;padding:20px}
.box{background:#222;padding:20px;border-radius:8px}
input,button{width:100%;padding:10px;margin:5px 0}
.number{border-bottom:1px solid #555;padding:10px 0}
</style>
</head>
<body>

<div class="box" id="loginBox">
<h2>Admin Login</h2>
<input id="name" placeholder="Username">
<input id="pass" placeholder="Password">
<button onclick="login()">Login</button>
<p id="msg"></p>
</div>

<div class="box" id="panel" style="display:none">
<h2>Welcome Admin (Jens)</h2>

<h3>User Stats</h3>
<div id="userStats"></div>

<h3>All Numbers (Full View)</h3>
<div id="allNumbers"></div>

<button onclick="logout()">Logout</button>
</div>

<script>
function getNumbers(){
  return JSON.parse(localStorage.getItem("numbers") || "[]");
}

function login(){
  if(name.value=="Jens" && pass.value=="561236"){
    loginBox.style.display="none";
    panel.style.display="block";
    loadData();
  } else {
    msg.innerText = "Wrong credentials";
  }
}

function loadData(){
  let data = getNumbers();

  let users = {};
  data.forEach(n=>{
    if(!users[n.user]) users[n.user]=0;
    users[n.user]++;
  });

  userStats.innerHTML = Object.keys(users).map(u=>
    `<div>${u} = ${users[u]} numbers</div>`
  ).join("");

  allNumbers.innerHTML = data.map(d=>`
  <div class="number">
    <b>${d.number}</b><br>
    User: ${d.user} | Source: ${d.source}<br>
    <small>${d.time}</small>
  </div>`).join("");
}

function logout(){
  location.reload();
}
</script>
</body>
</html>
